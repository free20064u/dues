{% extends "base/base.html" %}
{% load static %}

{% block pageTitle %}Login{% endblock pageTitle %}
{% block content %}
<!--A template for the addition and editting of form for student program-->
    <div class="d-flex justify-content-center m-2 m-sm-5">
        <form action="" method="post" class="d-flex col-12 col-sm-8 bg-white shadow-lg rounded-2" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row">
                <div class="col-12 col-sm-6 d-flex align-items-center justify-content-center bg-primary">
                    <img id="blah" class="col-6" src="{% static "base/images/wbm-logo-400x400.png" %}" alt="wbm logo" width=90%>  
                </div>
                <div class="col-12 col-sm-6">
                    <h4 class="text-primary p-2">{{formTitle}}</h4>
                    <div class="d-flex-wrap justify-content-center me-2 ">
    
                        {{form}}
                        <!--A script that takes chosen image file and show it on the form before uploading-->
                        <script>
                            blah = document.getElementById('blah');
                            id_image = document.getElementById('id_image');
                            id_image.onchange = evt => {
                                const [file] = id_image.files
                                if (file) {
                                    blah.src = URL.createObjectURL(file)
                                }
                            }
                        </script>
                    </div>
                    <div class="d-flex justify-content-center">
                        <button type="submit" name="subm" value="on" class=" col-5 bg-primary border border-0 rounded-pill text-lime py-2 px-3 mb-5 mt-4 me-1">Submit</button>
                        {% if formTitle == 'Add Student' or formTitle == 'Add Program' %}
                            <button type="submit" name="subm" value="off" class=" col-5 bg-primary border border-0 rounded-pill text-lime py-2 px-3 mb-5 mt-4">Add 1 more</button>
                        {% endif %}
                        </a>
                    </div>
                </div>
            </div>
        </form>
    </div>
    
{% endblock content %}
